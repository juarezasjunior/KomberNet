@page "/NewUser"
@using KomberNet.UI.WEB.Client.Auth;
@using KomberNet.Models.Auth;

@inherits BasePage

@inject IUserService userService;

<PageTitle>@this.Localizer["NewUser_PageTitle"]</PageTitle>

<RadzenRow JustifyContent="Radzen.JustifyContent.Center">
    <RadzenColumn SizeLG="4" SizeMD="5">
        <RadzenCard>
            <RadzenTemplateForm TItem="NewUser" Data="@this" Submit="async () => await this.InsertUserAsync()">
                <RadzenRow>
                    <RadzenColumn>
                        <RadzenStack>

                            <RadzenFormField Text="@this.Localizer["NewUser_FullName"]">
                                <RadzenTextBox Name="@nameof(this.FullName)" @bind-Value="FullName" />
                                <RadzenRequiredValidator Component="@nameof(this.FullName)" Text="@this.Localizer["Field_Required"]" />
                            </RadzenFormField>

                            <RadzenFormField Text="@this.Localizer["NewUser_Email"]">
                                <RadzenTextBox Name="@nameof(this.Email)" @bind-Value="Email" />
                                <RadzenRequiredValidator Component="@nameof(this.Email)" Text="@this.Localizer["Field_Required"]" />
                                <RadzenEmailValidator Component="@nameof(this.Email)" Text="@this.Localizer["Field_InvalidEmail"]" />
                            </RadzenFormField>

                            <RadzenFormField Text="@this.Localizer["NewUser_Password"]">
                                <RadzenPassword Name="@nameof(this.Password)" @bind-Value="Password" />
                                <RadzenRequiredValidator Component="@nameof(this.Password)" Text="@this.Localizer["Field_Required"]" />
                            </RadzenFormField>

                            <RadzenFormField Text="@this.Localizer["NewUser_RepeatPassword"]">
                                <RadzenPassword Name="@nameof(this.RepeatPassword)" @bind-Value="RepeatPassword" />
                                <RadzenRequiredValidator Component="@nameof(this.RepeatPassword)" Text="@this.Localizer["Field_Required"]" />
                            </RadzenFormField>

                            <RadzenButton ButtonType="Radzen.ButtonType.Submit" Text="@this.Localizer["NewUser_CreateUser"]" />

                            <RadzenStack Orientation="Radzen.Orientation.Horizontal" JustifyContent="Radzen.JustifyContent.Center">
                                <RadzenButton Text="@this.Localizer["NewUser_LoginExistingUser"]" Click="() => this.NavigateToPageAsync<Login>()" />
                            </RadzenStack>

                        </RadzenStack>
                    </RadzenColumn>
                </RadzenRow>
            </RadzenTemplateForm>
        </RadzenCard>
    </RadzenColumn>
</RadzenRow>
